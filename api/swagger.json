{
	"openapi": "3.0.0",
	"paths": {
		"/users/{userName}": {
			"get": {
				"operationId": "UsersController_getUserByUserName",
				"parameters": [
					{
						"name": "userName",
						"required": true,
						"in": "path",
						"schema": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"$ref": "#/components/schemas/GetUserDto"
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Users"
				]
			}
		},
		"/users/me": {
			"post": {
				"operationId": "UsersController_getMe",
				"parameters": [],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/MeDto"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"$ref": "#/components/schemas/GetMeDto"
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Users"
				]
			}
		},
		"/users/create": {
			"post": {
				"operationId": "UsersController_createUser",
				"parameters": [],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/CreateUserDto"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"$ref": "#/components/schemas/UserEntity"
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Users"
				]
			}
		},
		"/users/update": {
			"patch": {
				"operationId": "UsersController_updateUser",
				"parameters": [],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/UpdateDto"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"type": "object"
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Users"
				]
			}
		},
		"/chats": {
			"post": {
				"operationId": "ChatsController_createChat",
				"parameters": [
					{
						"name": "x-socket-id",
						"required": true,
						"in": "header",
						"schema": {
							"type": "string"
						}
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/CreateOpenChatDto"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"$ref": "#/components/schemas/ChatEntity"
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Chats"
				]
			},
			"get": {
				"operationId": "ChatsController_getChats",
				"parameters": [
					{
						"name": "search",
						"required": true,
						"in": "query",
						"description": "Chat name",
						"schema": {
							"type": "string"
						}
					},
					{
						"name": "limit",
						"required": false,
						"in": "query",
						"description": "Limit chat",
						"schema": {
							"type": "number"
						}
					},
					{
						"name": "offset",
						"required": false,
						"in": "query",
						"description": "Offset chat",
						"schema": {
							"type": "number"
						}
					},
					{
						"name": "notFavoriteChatIds",
						"required": false,
						"in": "query",
						"schema": {
							"type": "array",
							"items": {
								"type": "string"
							}
						}
					},
					{
						"name": "x-socket-id",
						"required": true,
						"in": "header",
						"schema": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"type": "array",
													"items": {
														"$ref": "#/components/schemas/ChatEntity"
													}
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Chats"
				]
			}
		},
		"/chats/{name}": {
			"get": {
				"operationId": "ChatsController_getChatByName",
				"parameters": [
					{
						"name": "name",
						"required": true,
						"in": "path",
						"schema": {
							"type": "string"
						}
					},
					{
						"name": "x-socket-id",
						"required": true,
						"in": "header",
						"schema": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"type": "array",
													"items": {
														"$ref": "#/components/schemas/ChatEntity"
													}
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Chats"
				]
			}
		},
		"/chats/{id}/keys/keep": {
			"post": {
				"operationId": "ChatsController_keepChatKey",
				"parameters": [
					{
						"name": "id",
						"required": true,
						"in": "path",
						"schema": {
							"type": "string"
						}
					},
					{
						"name": "x-socket-id",
						"required": true,
						"in": "header",
						"schema": {
							"type": "string"
						}
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/KeepKeyDto"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"type": "object"
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Chats"
				]
			}
		},
		"/chats/{chatId}/keys/receive": {
			"post": {
				"operationId": "ChatsController_receiveKey",
				"parameters": [
					{
						"name": "chatId",
						"required": true,
						"in": "path",
						"schema": {
							"type": "string"
						}
					},
					{
						"name": "x-socket-id",
						"required": true,
						"in": "header",
						"schema": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"type": "object"
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Chats"
				]
			}
		},
		"/chats/join": {
			"post": {
				"operationId": "ChatsController_join",
				"parameters": [
					{
						"name": "x-socket-id",
						"required": true,
						"in": "header",
						"schema": {
							"type": "string"
						}
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/FavoriteChatsDto"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"type": "array",
													"items": {
														"$ref": "#/components/schemas/ChatEntity"
													}
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Chats"
				]
			}
		},
		"/chats/leave": {
			"post": {
				"operationId": "ChatsController_leave",
				"parameters": [
					{
						"name": "x-socket-id",
						"required": true,
						"in": "header",
						"schema": {
							"type": "string"
						}
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/LeaveChatsDto"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"type": "object"
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Chats"
				]
			}
		},
		"/chats/system_chats": {
			"get": {
				"operationId": "ChatsController_getSystemChats",
				"parameters": [],
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"type": "array",
													"items": {
														"$ref": "#/components/schemas/ChatEntity"
													}
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Chats"
				]
			}
		},
		"/messages": {
			"post": {
				"operationId": "MessagesController_createMessage",
				"parameters": [
					{
						"name": "x-socket-id",
						"required": true,
						"in": "header",
						"schema": {
							"type": "string"
						}
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/CreateMessageDto"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"$ref": "#/components/schemas/MessageEntity"
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Messages"
				]
			},
			"get": {
				"operationId": "MessagesController_getMessages",
				"parameters": [
					{
						"name": "chatId",
						"required": true,
						"in": "query",
						"description": "Chat id",
						"schema": {
							"type": "string"
						}
					},
					{
						"name": "limit",
						"required": false,
						"in": "query",
						"description": "Limit message",
						"schema": {
							"type": "number"
						}
					},
					{
						"name": "offset",
						"required": false,
						"in": "query",
						"description": "Offset message",
						"schema": {
							"type": "number"
						}
					},
					{
						"name": "x-socket-id",
						"required": true,
						"in": "header",
						"schema": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"type": "array",
													"items": {
														"$ref": "#/components/schemas/MessageEntity"
													}
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Messages"
				]
			}
		},
		"/messages/{messageId}/files/{fileId}": {
			"get": {
				"operationId": "MessagesController_getFile",
				"parameters": [
					{
						"name": "fileId",
						"required": true,
						"in": "path",
						"schema": {
							"type": "string"
						}
					},
					{
						"name": "messageId",
						"required": true,
						"in": "path",
						"schema": {
							"type": "string"
						}
					},
					{
						"name": "x-socket-id",
						"required": true,
						"in": "header",
						"schema": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": ""
					}
				},
				"tags": [
					"Messages"
				]
			}
		},
		"/files": {
			"get": {
				"operationId": "FilesController_getFilesMediaType",
				"summary": "Get files by media type with pagination",
				"parameters": [
					{
						"name": "chatId",
						"required": true,
						"in": "query",
						"schema": {
							"type": "string"
						}
					},
					{
						"name": "mediaType",
						"required": false,
						"in": "query",
						"schema": {
							"enum": [
								"is_voice",
								"is_media",
								"is_video",
								"is_audio",
								"is_document",
								"is_photo"
							],
							"type": "string"
						}
					},
					{
						"name": "limit",
						"required": false,
						"in": "query",
						"schema": {
							"type": "number"
						}
					},
					{
						"name": "offset",
						"required": false,
						"in": "query",
						"schema": {
							"type": "number"
						}
					},
					{
						"name": "number",
						"required": false,
						"in": "query",
						"schema": {
							"type": "number"
						}
					}
				],
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"$ref": "#/components/schemas/Object"
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Files"
				]
			}
		},
		"/files/next-file": {
			"get": {
				"operationId": "FilesController_getNextFilesByMediaType",
				"summary": "Get next file by media type",
				"parameters": [
					{
						"name": "chatId",
						"required": true,
						"in": "query",
						"schema": {
							"type": "string"
						}
					},
					{
						"name": "mediaType",
						"required": false,
						"in": "query",
						"schema": {
							"enum": [
								"is_voice",
								"is_media",
								"is_video",
								"is_audio",
								"is_document",
								"is_photo"
							],
							"type": "string"
						}
					},
					{
						"name": "limit",
						"required": false,
						"in": "query",
						"schema": {
							"type": "number"
						}
					},
					{
						"name": "offset",
						"required": false,
						"in": "query",
						"schema": {
							"type": "number"
						}
					},
					{
						"name": "number",
						"required": false,
						"in": "query",
						"schema": {
							"type": "number"
						}
					}
				],
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"$ref": "#/components/schemas/Object"
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Files"
				]
			}
		},
		"/files/prev-file": {
			"get": {
				"operationId": "FilesController_getPrevByMediaType",
				"summary": "Get previous file by media type",
				"parameters": [
					{
						"name": "chatId",
						"required": true,
						"in": "query",
						"schema": {
							"type": "string"
						}
					},
					{
						"name": "mediaType",
						"required": false,
						"in": "query",
						"schema": {
							"enum": [
								"is_voice",
								"is_media",
								"is_video",
								"is_audio",
								"is_document",
								"is_photo"
							],
							"type": "string"
						}
					},
					{
						"name": "limit",
						"required": false,
						"in": "query",
						"schema": {
							"type": "number"
						}
					},
					{
						"name": "offset",
						"required": false,
						"in": "query",
						"schema": {
							"type": "number"
						}
					},
					{
						"name": "number",
						"required": false,
						"in": "query",
						"schema": {
							"type": "number"
						}
					}
				],
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"$ref": "#/components/schemas/Object"
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Files"
				]
			}
		},
		"/files/{fileId}": {
			"get": {
				"operationId": "FilesController_getFileById",
				"summary": "Get file by fileId with number for navigation",
				"parameters": [
					{
						"name": "fileId",
						"required": true,
						"in": "path",
						"schema": {
							"type": "string"
						}
					},
					{
						"name": "chatId",
						"required": true,
						"in": "query",
						"schema": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"anyOf": [
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": true
												},
												"data": {
													"$ref": "#/components/schemas/Object"
												}
											},
											"required": [
												"success",
												"data"
											]
										},
										{
											"type": "object",
											"properties": {
												"success": {
													"type": "boolean",
													"example": false
												},
												"data": {
													"type": "string"
												}
											},
											"required": [
												"success",
												"data"
											]
										}
									]
								}
							}
						}
					}
				},
				"tags": [
					"Files"
				]
			}
		}
	},
	"info": {
		"title": "PassimX",
		"description": "",
		"version": "1.2.1",
		"contact": {},
		"license": {
			"name": "MIT LICENSE",
			"url": "open platform for messaging"
		}
	},
	"tags": [],
	"servers": [
		{
			"url": "http://localhost:6020"
		}
	],
	"components": {
		"schemas": {
			"GetUserDto": {
				"type": "object",
				"properties": {
					"name": {
						"type": "string"
					},
					"userName": {
						"type": "string"
					},
					"rsaPublicKey": {
						"type": "string"
					},
					"createdAt": {
						"format": "date-time",
						"type": "string"
					}
				},
				"required": [
					"name",
					"userName",
					"rsaPublicKey",
					"createdAt"
				]
			},
			"GetMeDto": {
				"type": "object",
				"properties": {
					"encryptedRsaPrivateKey": {
						"type": "string"
					}
				},
				"required": [
					"encryptedRsaPrivateKey"
				]
			},
			"MeDto": {
				"type": "object",
				"properties": {
					"id": {
						"type": "string"
					},
					"seedPhraseHash": {
						"type": "string"
					}
				},
				"required": [
					"id",
					"seedPhraseHash"
				]
			},
			"UserEntity": {
				"type": "object",
				"properties": {
					"id": {
						"type": "string"
					},
					"name": {
						"type": "string"
					},
					"userName": {
						"type": "string"
					},
					"rsaPublicKey": {
						"type": "string"
					},
					"encryptedRsaPrivateKey": {
						"type": "string"
					},
					"createdAt": {
						"format": "date-time",
						"type": "string"
					}
				},
				"required": [
					"id",
					"name",
					"userName",
					"rsaPublicKey",
					"encryptedRsaPrivateKey",
					"createdAt"
				]
			},
			"CreateUserDto": {
				"type": "object",
				"properties": {
					"name": {
						"type": "string"
					},
					"rsaPublicKey": {
						"type": "string"
					},
					"encryptedRsaPrivateKey": {
						"type": "string"
					},
					"passwordHash": {
						"type": "string"
					},
					"seedPhraseHash": {
						"type": "string"
					}
				},
				"required": [
					"name",
					"rsaPublicKey",
					"encryptedRsaPrivateKey",
					"passwordHash",
					"seedPhraseHash"
				]
			},
			"UpdateDto": {
				"type": "object",
				"properties": {
					"id": {
						"type": "string"
					},
					"seedPhraseHash": {
						"type": "string"
					},
					"name": {
						"type": "string"
					}
				},
				"required": [
					"id",
					"seedPhraseHash",
					"name"
				]
			},
			"ChatKeyEntity": {
				"type": "object",
				"properties": {
					"id": {
						"type": "string"
					},
					"createdAt": {
						"format": "date-time",
						"type": "string"
					},
					"chatId": {
						"type": "string"
					},
					"userId": {
						"type": "string"
					},
					"encryptionKey": {
						"type": "string",
						"nullable": true
					},
					"received": {
						"type": "boolean"
					},
					"chat": {
						"$ref": "#/components/schemas/ChatEntity"
					},
					"user": {
						"$ref": "#/components/schemas/UserEntity"
					}
				},
				"required": [
					"id",
					"createdAt",
					"chatId",
					"userId",
					"encryptionKey",
					"received",
					"chat",
					"user"
				]
			},
			"ChatEntity": {
				"type": "object",
				"properties": {
					"id": {
						"type": "string"
					},
					"createdAt": {
						"format": "date-time",
						"type": "string"
					},
					"name": {
						"type": "string",
						"nullable": true,
						"maxLength": 64
					},
					"title": {
						"type": "string"
					},
					"countMessages": {
						"type": "number"
					},
					"type": {
						"type": "string"
					},
					"maxUsersOnline": {
						"type": "number"
					},
					"message": {
						"type": "array",
						"items": {
							"$ref": "#/components/schemas/MessageEntity"
						}
					},
					"keys": {
						"nullable": true,
						"type": "array",
						"items": {
							"$ref": "#/components/schemas/ChatKeyEntity"
						}
					}
				},
				"required": [
					"id",
					"createdAt",
					"name",
					"title",
					"countMessages",
					"type",
					"maxUsersOnline",
					"keys"
				]
			},
			"Metadata": {
				"type": "object",
				"properties": {
					"duration": {
						"type": "number"
					},
					"loudnessData": {
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					"transcriptionVoice": {
						"type": "object",
						"nullable": true
					}
				}
			},
			"FileEntity": {
				"type": "object",
				"properties": {
					"id": {
						"type": "string"
					},
					"createdAt": {
						"format": "date-time",
						"type": "string"
					},
					"key": {
						"type": "string"
					},
					"originalName": {
						"type": "string"
					},
					"chatId": {
						"type": "string"
					},
					"size": {
						"type": "number"
					},
					"mimeType": {
						"type": "string"
					},
					"fileType": {
						"type": "string"
					},
					"messageId": {
						"type": "string"
					},
					"metadata": {
						"$ref": "#/components/schemas/Metadata"
					},
					"number": {
						"type": "number"
					},
					"message": {
						"$ref": "#/components/schemas/FileEntity"
					},
					"chat": {
						"$ref": "#/components/schemas/ChatEntity"
					}
				},
				"required": [
					"id",
					"createdAt",
					"key",
					"originalName",
					"chatId",
					"size",
					"mimeType",
					"fileType",
					"messageId",
					"metadata",
					"number"
				]
			},
			"MessageEntity": {
				"type": "object",
				"properties": {
					"id": {
						"type": "string"
					},
					"createdAt": {
						"format": "date-time",
						"type": "string"
					},
					"chatId": {
						"type": "string"
					},
					"number": {
						"type": "number"
					},
					"message": {
						"type": "string"
					},
					"parentMessageId": {
						"type": "string"
					},
					"type": {
						"type": "string"
					},
					"userId": {
						"type": "string"
					},
					"chat": {
						"$ref": "#/components/schemas/ChatEntity"
					},
					"user": {
						"nullable": true,
						"allOf": [
							{
								"$ref": "#/components/schemas/ChatEntity"
							}
						]
					},
					"parentMessage": {
						"$ref": "#/components/schemas/MessageEntity"
					},
					"files": {
						"type": "array",
						"items": {
							"$ref": "#/components/schemas/FileEntity"
						}
					}
				},
				"required": [
					"id",
					"createdAt",
					"chatId",
					"number",
					"message",
					"parentMessageId",
					"type",
					"userId"
				]
			},
			"CreateOpenChatDto": {
				"type": "object",
				"properties": {
					"title": {
						"type": "string",
						"description": "Chat name"
					}
				},
				"required": [
					"title"
				]
			},
			"KeyDto": {
				"type": "object",
				"properties": {
					"userId": {
						"type": "string",
						"description": "Публичный ключ",
						"maxLength": 64
					},
					"encryptionKey": {
						"type": "string",
						"description": "Зашифрованный ключ шифрования для чата",
						"maxLength": 8192
					}
				},
				"required": [
					"userId",
					"encryptionKey"
				]
			},
			"KeepKeyDto": {
				"type": "object",
				"properties": {
					"keys": {
						"type": "array",
						"items": {
							"$ref": "#/components/schemas/KeyDto"
						}
					}
				},
				"required": [
					"keys"
				]
			},
			"ChatDto": {
				"type": "object",
				"properties": {
					"chatId": {
						"type": "string",
						"description": "Id chat"
					},
					"lastMessage": {
						"type": "number",
						"description": "Number last message"
					},
					"maxUsersOnline": {
						"type": "number",
						"description": "MaxUsersOnline message"
					}
				},
				"required": [
					"chatId",
					"lastMessage",
					"maxUsersOnline"
				]
			},
			"FavoriteChatsDto": {
				"type": "object",
				"properties": {
					"chats": {
						"type": "array",
						"items": {
							"$ref": "#/components/schemas/ChatDto"
						}
					}
				},
				"required": [
					"chats"
				]
			},
			"LeaveChatsDto": {
				"type": "object",
				"properties": {
					"chatIds": {
						"type": "array",
						"description": "Id chat",
						"items": {
							"type": "string",
							"format": "uuid"
						}
					}
				},
				"required": [
					"chatIds"
				]
			},
			"CreateFileDto": {
				"type": "object",
				"properties": {
					"key": {
						"type": "string"
					},
					"fileType": {
						"type": "string",
						"enum": [
							"is_voice",
							"is_media",
							"is_video",
							"is_audio",
							"is_document",
							"is_photo"
						]
					},
					"size": {
						"type": "number"
					},
					"mimeType": {
						"type": "string"
					},
					"originalName": {
						"type": "string"
					},
					"metadata": {
						"$ref": "#/components/schemas/Metadata"
					}
				},
				"required": [
					"key",
					"fileType",
					"size",
					"mimeType",
					"originalName"
				]
			},
			"CreateMessageDto": {
				"type": "object",
				"properties": {
					"chatId": {
						"type": "string",
						"description": "Chat id"
					},
					"message": {
						"type": "string",
						"description": "Message",
						"minLength": 1,
						"maxLength": 4096
					},
					"parentMessageId": {
						"type": "string",
						"description": "Message id"
					},
					"files": {
						"type": "array",
						"items": {
							"$ref": "#/components/schemas/CreateFileDto"
						}
					}
				},
				"required": [
					"chatId"
				]
			},
			"DataResponse": {
				"type": "object",
				"properties": {
					"success": {
						"type": "boolean"
					},
					"data": {
						"type": "object"
					}
				},
				"required": [
					"success",
					"data"
				]
			},
			"MessageDto": {
				"type": "object",
				"properties": {
					"to": {
						"type": "string"
					},
					"event": {
						"type": "string",
						"enum": [
							"create_chat",
							"create_dialogue",
							"create_message",
							"join_chat",
							"leave_chat",
							"get_system_chat",
							"transcribe_audio"
						]
					},
					"data": {
						"$ref": "#/components/schemas/DataResponse"
					}
				},
				"required": [
					"to",
					"event",
					"data"
				]
			},
			"Object": {
				"type": "object",
				"properties": {}
			}
		}
	}
}